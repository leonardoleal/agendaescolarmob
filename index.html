<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" type="text/css" href="css/jquery.mobile-1.4.5.min.css" />
    <link rel="stylesheet" href="css/jquery-mobile.css" />
    <link rel="stylesheet" href="css/fullcalendar.min.css" />
    <link rel="stylesheet" type="text/css" media="screen and (max-device-width: 799px)"  href="css/jquery-mobile.css" />
    <title>Agenda Escolar</title>
    <script type="text/javascript" src="cordova.js"></script>
    <script src="js/jquery-2.1.3.min.js"></script>
    <script src="js/jquery.mobile-1.4.5.min.js"></script>
    <script src="js/moment.min.js"></script>
    <script src="js/fullcalendar.min.js"></script>
    <script src='js/pt-br.js'></script>
    <style>
      .ui-header .ui-title {
          margin-right: 0px;
          margin-left: 0px;
      }
      p {
        text-align: left;
      }
      .fc-day-grid-container {
        height: auto !important;
      }
      .fc-icon {
        color: black !important;
      }
    </style>
    <script type="text/javascript">
      $(document).on('pageshow','#calendario',function(e,data){ 
        // page is now ready, initialize the calendar...
        var calendar = $('#calendar').fullCalendar({
          // put your options and callbacks here
          defaultView: 'month'
        })
      });
    </script>
  </head>
  <body onload="init()" class="ui-mobile-viewport ui-overlay-a">

    <!--Solução temporária para o carregamento da página inicial-->
    <div data-role="page" id="uselesspage">
      <div data-role="main" class="ui-content"></div>
    </div>

    <!--/Cabeçalho Home/-->
    <div data-role="page" id="pagelogin">
      <!--Primeira página Formulário-->
      <!--Primeira Cabeçalho-->
      <div data-role="header" data-position="fixed" data-tap-toggle="false">
        <h2>Agenda Escolar</h2>
      </div>
      <!--Primeira página com conteúdo-->
      <div data-role="main" class="ui-content">
        <form id="login" method="POST">
          <input type="text" name="usuario" id="usuario" placeholder="Usuário" required />
          <input type="password" id="senha" name="senha" placeholder="Senha" required />
          <input type="submit" id="botao" value="Enviar" data-theme="b" />
        </form>
      </div>
      <!--Primeiro Rodapé-->
    </div>
    <!-- Fim da primeira página -->

    <!--Segunda Página-->
    <div data-role="page" id="pageone">
      <!--/Lista de Mensagens/-->
      <!--Segundo Cabeçalho-->
      <div data-role="header" data-position="fixed" data-tap-toggle="false">
        <h1>Agenda Escolar</h1>
        <a href="#calendario" class="ui-btn-right ui-btn ui-btn-b ui-btn-inline ui-mini ui-corner-all ui-btn-icon-right ui-icon-grid" style="line-height: 260%;">Calendário</a>
      </div>
      <div data-role="main" class="ui-content">
        <!--/Campo procura/-->
        <form class="ui-filterable">
          <input id="myFilter" data-type="search"/>
        </form>
        <ul id="mensagens" data-role="listview" data-inset="true" data-filter="true" data-input="#myFilter">
          <li data-role="divider">Quadro de Mensagens/Eventos</li>
        </ul>
      </div>
      <!--/Rodapé Home/-->
      <div data-role="footer"  data-fullscreen="true" data-position="fixed" id="footer" data-tap-toggle="false">
        <div data-role="navbar">
          <ul>
            <li><a href="#pagelogin" data-icon="power">Sair</a></li>
            <li><a href="#" data-icon="delete">Deletar</a></li>
            <li><a href="#" data-icon="info">Detalhes</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div data-role="page" id="msg">
      <div data-role="header" data-position="fixed" data-tap-toggle="false">
        <h1>Agenda Escolar</h1>
      </div>
      <div data-role="main" class="ui-content" data-fullscreen="true">
      <!-- Texto Mensagem -->
        <h3 id="assunto">Assunto</h3>
        <ul data-role="listview" data-inset="true" data-add-back-btn="true" id="cabecalho_mensagem">
        </ul>
        <p>
          Texto.
        </p>
        <form method="post" id="form_resposta">
          <label for="resposta">Digite sua resposta: </label>
          <textarea name="resposta" id="resposta" required></textarea>
          <input type="submit" data-inline="true" value="Responder" data-theme="b" />
        </form>
        <h4>Respostas enviadas:</h4>
        <ul id="respostas_enviadas"></ul>
      </div>
    </div>

    <!-- Tela de calendário -->
    <div data-role="page" id="calendario">
      <div data-role="header" data-position="fixed" data-tap-toggle="false">
        <h1>Agenda Escolar</h1>
      </div>
      <div data-role="main" class="ui-content" data-fullscreen="true">
        <div id='calendar'></div>
      </div>
    </div>

    <div id="erroLogin" data-role="dialog" data-transition="pop">
      <div data-role="header" data-theme="e">
        <h1>Login inválido</h1>
      </div>
      <div data-role="content">
        <p>Verifique se usuário e senha estão corretos.</p>
      </div>
    </div>

    <!--Fim da segunda página-->
    <script type="text/javascript" src="js/ajax_functions.js"></script>
    <script type="text/javascript" src="js/db_functions.js"></script>
    <script type="text/javascript" src="js/main.js"></script>
  </body>
</html>
